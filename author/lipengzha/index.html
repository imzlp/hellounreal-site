<!DOCTYPE html>


  
<html itemscope itemtype="https://schema.org/WebPage" class="no-js" lang="zh">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="siteBaseUrl" content="http://example.org/">
    <meta name="author" content="lipengzha">
    <meta name="description" content="Unreal Engine New Knowledge.">
    <meta name="keywords" content="UnrealEngine">
    <meta name="generator" content="Hugo 0.114.0">
    <title>
        
           
               lipengzha &vert; 虚幻 · 新知
           
        
    </title>
    <meta itemprop="name" content="lipengzha">
    <meta itemprop="description" content="lipengzha - Unreal Engine New Knowledge.">
    <meta property="og:site_name" content="虚幻 · 新知">

    <meta property="og:title" content="lipengzha" />
<meta property="og:description" content="Unreal Engine New Knowledge." />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://example.org/author/lipengzha/" />


    


    <script src="/modernizr-simple.js"></script>

    
    <link href="http://example.org/author/lipengzha/index.xml" rel="alternate" type="application/rss+xml" title="虚幻 · 新知" />
    <link href="http://example.org/author/lipengzha/index.xml" rel="feed" type="application/rss+xml" title="虚幻 · 新知" />
    


    
    <link rel="canonical" href="http://example.org/author/lipengzha/">
    

    <link rel="stylesheet" href="http://example.org/theme.css">

    

    
        
            <link rel="stylesheet" href="http://example.org/css/custom.css">
        
    

    
</head>

<body class="bilberry-hugo-theme">
    

    
    <nav>

    <div class="container">
        <ul class="topnav">
            
                
                    <li><a href="http://example.org/page/about/">About</a></li>
                
            
                
                    <li><a href="https://imzlp.com" target="_blank">Blog</a></li>
                
            
                
                    <li><a href="https://github.com/hxhb" target="_blank">Github</a></li>
                
            
        </ul>

        
    </div>
</nav>


    
    <header>

    <div class="container">
        <div class="logo">
            <a href="/" class="logo">
                
                    <img src="https://ue5wiki.com/images/uelogo.svg" alt="">
                

                <span class="overlay"><i class="fa fa-home"></i></span>
            </a>
        </div>
        <div class="titles">
            <h3 class="title">
                <a href="/">
                    虚幻 · 新知
                </a>
            </h3>

            
                <span class="subtitle">Unreal Engine New Knowledge.</span>
            
        </div>

        

        
            <div class="toggler">
        
                <i class="fa fa-bars" aria-hidden="true"></i>
            </div>
    </div>
</header>


    <div class="main container">
        
    
    
        <div class="article-wrapper u-cf">
            
                <span class="bubble">
    <i class="fas fa-fw fa-rocket"></i>
</span>

<article class="status">
    

    <div class="content">


        
            <div class="meta">
                
                    
                        <span class="date moment">2023-06-19</span>
                    
                

                

                
                    <span class="author">
                        
                        
                            <a href="http://example.org/author/lipengzha/">lipengzha</a>
                        
                    </span>
                
            </div>
        

        <h2 id="adb执行console命令">adb执行console命令</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>adb shell <span style="color:#e6db74">&#34;am broadcast -a android.intent.action.RUN -e cmd &#39;stat fps&#39;&#34;</span>
</span></span></code></pre></div><ul>
<li><a href="https://github.com/EpicGames/UnrealEngine/blob/407acc04a93f09ecb42c07c98b74fd00cc967100/Engine/Source/Developer/Android/AndroidTargetPlatform/Private/AndroidTargetDevice.inl#L102">Developer/Android/AndroidTargetPlatform/Private/AndroidTargetDevice.inl#L102</a></li>
</ul>


    </div>

    
<div class="footer">


    
        <div class="tags">
            <i class="fa fa-tags"></i>
            <div class="links">
                
                    
                    
                    <a href="http://example.org/tags/android/">Android</a>
                    
                
                    
                    
                    <a href="http://example.org/tags/adb/">adb</a>
                    
                
            </div>
        </div>
    

    
</div>

</article>

            
        </div>
    
        <div class="article-wrapper u-cf">
            
                <span class="bubble">
    <i class="fas fa-fw fa-rocket"></i>
</span>

<article class="status">
    

    <div class="content">


        
            <div class="meta">
                
                    
                        <span class="date moment">2023-06-19</span>
                    
                

                

                
                    <span class="author">
                        
                        
                            <a href="http://example.org/author/lipengzha/">lipengzha</a>
                        
                    </span>
                
            </div>
        

        <h2 id="ufunctionexec">UFUNCTION(Exec)</h2>
<p>在UFUNCTION元标记中添加<code>Exec</code>指示符，可以在Console中执行函数。
但它也有一些限制，文档中说的含糊不清：</p>
<blockquote>
<p><code>Exec</code>: The function can be executed from the in-game console. Exec commands only function when declared within certain Classes.</p>
</blockquote>
<p>但具体是在哪些类中有效果却没说。调试后发现：</p>
<ol>
<li>UWorld</li>
<li>APlayerController</li>
<li>APawn</li>
<li>AHUD</li>
<li>AGameMode</li>
<li>UCheatManager</li>
<li>AGameState</li>
<li>APlayerCameraManager</li>
</ol>
<p>具体代码为：<a href="https://github.com/EpicGames/UnrealEngine/blob/407acc04a93f09ecb42c07c98b74fd00cc967100/Engine/Source/Runtime/Engine/Private/Player.cpp#L94">Runtime/Engine/Private/Player.cpp#L94</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">bool</span> UPlayer<span style="color:#f92672">::</span>Exec( UWorld<span style="color:#f92672">*</span> InWorld, <span style="color:#66d9ef">const</span> TCHAR<span style="color:#f92672">*</span> Cmd,FOutputDevice<span style="color:#f92672">&amp;</span> Ar)
</span></span></code></pre></div><p>调用栈：
<img src="https://img.imzlp.com/imgs/zlp/picgo/2023/20230613123835.png" alt=""></p>


    </div>

    
<div class="footer">


    
        <div class="tags">
            <i class="fa fa-tags"></i>
            <div class="links">
                
                    
                    
                    <a href="http://example.org/tags/%E5%8F%8D%E5%B0%84/">反射</a>
                    
                
            </div>
        </div>
    

    
</div>

</article>

            
        </div>
    

    
    <div class="paginator">
        

        
    </div>



    </div>

    

<div class="credits">
    <div class="container">
        <div class="copyright">
            <a href="https://imzlp.com" target="_blank">
                &copy;
                
                2023
                
                by lipengzha
            </a>
            -
            <a href="http://example.org/author/lipengzha/index.xml">rss</a>
        </div>
        <div class="author">
            <a href="https://gohugo.io/"
                target="_blank">Powered by Hugo</a>
        </div>
    </div>
</div>


    

    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [['$','$'], ['\\(','\\)']]}
        });
</script>

    
    <script src="http://example.org/theme.js"></script>
    

    
    
    

    

    
</body>

</html>
